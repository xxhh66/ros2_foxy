# ROS2 常用命令速查表

## 一、节点（Node）

| 功能         | 命令                        | 说明                       |
| ------------ | --------------------------- | -------------------------- |
| 查看节点列表 | `ros2 node list`            | 显示当前运行的所有节点     |
| 查看节点信息 | `ros2 node info /node_name` | 查看节点的发布、订阅、服务 |
| 结束节点     | `ros2 node kill /node_name` | 强制停止节点               |

---

## 二、话题（Topic）

| 功能         | 命令                                  | 说明                      |
| ------------ | ------------------------------------- | ------------------------- |
| 查看话题列表 | `ros2 topic list`                     | 显示所有话题              |
| 查看话题信息 | `ros2 topic info /topic`              | 显示话题类型、发布/订阅数 |
| 查看话题内容 | `ros2 topic echo /topic`              | 实时打印话题数据          |
| 查看发布频率 | `ros2 topic hz /topic`                | 显示话题发布频率          |
| 查看带宽     | `ros2 topic bw /topic`                | 显示话题带宽              |
| 手动发布话题 | `ros2 topic pub /topic type "{data}"` | CLI 发布消息              |

示例：
```bash
ros2 topic pub /chatter std_msgs/msg/String "{data: hello}"
```

## 四、参数（Parameter）

| 功能         | 命令                               | 说明            |
| ------------ | ---------------------------------- | --------------- |
| 查看参数列表 | `ros2 param list /node`            | 列出节点参数    |
| 查看参数值   | `ros2 param get /node param`       | 获取参数        |
| 设置参数     | `ros2 param set /node param value` | 动态修改参数    |
| 导出参数     | `ros2 param dump /node`            | 保存参数到 YAML |
| 加载参数     | `ros2 param load /node file.yaml`  | 从文件加载参数  |

------

## 五、包与可执行文件（Package）

| 功能             | 命令                            | 说明             |
| ---------------- | ------------------------------- | ---------------- |
| 查看包列表       | `ros2 pkg list`                 | 显示所有 ROS2 包 |
| 查看包可执行文件 | `ros2 pkg executables pkg_name` | 包内节点         |
| 查看包路径       | `ros2 pkg prefix pkg_name`      | 安装位置         |

------

## 六、运行节点与启动文件

| 功能        | 命令                             | 说明         |
| ----------- | -------------------------------- | ------------ |
| 运行节点    | `ros2 run pkg executable`        | 启动单个节点 |
| 启动 launch | `ros2 launch pkg file.launch.py` | 启动多个节点 |

------

## 七、接口（msg / srv / action）

| 功能             | 命令                       | 说明                |
| ---------------- | -------------------------- | ------------------- |
| 查看所有接口     | `ros2 interface list`      | 所有 msg/srv/action |
| 查看接口定义     | `ros2 interface show type` | 查看字段            |
| 查看消息类型     | `ros2 msg list`            | 所有 msg            |
| 查看服务类型     | `ros2 srv list`            | 所有 srv            |
| 查看 Action 类型 | `ros2 action list`         | 所有 action         |

------

## 八、Action（进阶）

| 功能             | 命令                                          | 说明           |
| ---------------- | --------------------------------------------- | -------------- |
| 查看 action 列表 | `ros2 action list`                            | 当前 action    |
| 查看 action 信息 | `ros2 action info /action`                    | 服务器与客户端 |
| 发送目标         | `ros2 action send_goal /action type "{goal}"` | 发送任务       |

------

## 九、构建与工作空间（colcon）

| 功能         | 命令                                 | 说明         |
| ------------ | ------------------------------------ | ------------ |
| 构建工作空间 | `colcon build`                       | 编译全部包   |
| 构建指定包   | `colcon build --packages-select pkg` | 只编译一个包 |
| 开发模式     | `colcon build --symlink-install`     | 软链接安装   |
| 运行测试     | `colcon test`                        | 执行测试     |

------

## 十、系统与调试

| 功能         | 命令                     | 说明           |
| ------------ | ------------------------ | -------------- |
| 环境诊断     | `ros2 doctor`            | 检查 ROS2 环境 |
| 生成报告     | `ros2 doctor --report`   | 诊断报告       |
| 重启守护进程 | `ros2 daemon stop/start` | 解决发现问题   |
| 查看日志目录 | `~/.ros/log`             | ROS2 日志路径  |