## make 配置项目

+ 创建第一个cpp，`chapt.cpp`

```cpp
#include "rclcpp/rclcpp.hpp"

int main(int argc, char *argv[])

{

    // 调用rclcpp的初始化函数

    rclcpp::init(argc, argv);

    // 调用rclcpp的循环运行我们创建的first_node节点

    rclcpp::spin(std::make_shared<rclcpp::Node>("first_node"));

    return 0;

}
```

### 修改c_cpp_properties.json

```bash
# 添加
opt/ros/foxy/include/**
```

### 编译

```bash
# 编译
g++ first_ros2_node.cpp -I /opt/ros/foxy/include/ -L /opt/ros/foxy/lib/ -lrclcpp -lrcutils

# 执行
./a.out

# 查看
ros2 node list
```

## cmake 配置项目

```cmake
cmake_minimum_required(VERSION 3.10)

project(first_node)

#include_directories 添加特定的头文件搜索路径 ，相当于指定g++编译器的-I参数
include_directories(/opt/ros/foxy/include/)

# link_directories - 向工程添加多个特定的库文件搜索路径，相当于指定g++编译器的-L参数
link_directories(/opt/ros/foxy/lib/)

# add_executable - 生成first_node可执行文件
add_executable(first_node first_ros2_node.cpp)

# target_link_libraries - 为first_node(目标) 添加需要动态链接库，相同于指定g++编译器-l参数
# 下面的语句代替 -lrclcpp -lrcutils
target_link_libraries(first_node rclcpp rcutils)
# 创建文件夹
mkdir build && cd build 
# cmake配置项目
cmake ..
# make 配置项目
make 
# 执行项目
./first_node

# 节点查看
ros2 node list
sudo apt install uuid-dev libreadline-gplv2-dev libncursesw5-dev libssl-dev
sudo apt install libsqlite3-dev tk-dev libgdbm-dev libc6-dev
sudo apt install libbz2-dev liblzma-dev libssl-dev libgdbm-compat-dev libffi-dev libreadline-dev
sudo apt install libncurses-dev libncursesw5-dev
```